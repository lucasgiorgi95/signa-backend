services:
  - type: web
    name: signa-backend
    env: docker
    dockerContext: .
    dockerfile: Dockerfile
    
    # Habilitar almacenamiento persistente para SQLite
    disk:
      name: signa-data
      mountPath: /data  # Montar en /data
      sizeGB: 1
    
    # Configuraci√≥n de recursos
    plan: free
    
    # Variables de entorno
    envVars:
      - key: PORT
        value: 8000
      - key: PYTHON_VERSION
        value: 3.13.0
      - key: DATABASE_URL
        value: sqlite:////data/marcas.db  # URL completa de SQLite
    
    # Comando de inicio
    startCommand: /bin/sh -c "chmod +x /app/start.sh && /app/start.sh"
